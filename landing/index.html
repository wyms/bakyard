<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Bakyard ¬∑ Where Legends Grow ¬∑ Plano, TX</title>
  <meta name="description" content="Beach volleyball sanctuary in Plano, Texas. Train. Play. Belong. Built on sand, backed by family." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow+Condensed:ital,wght@0,400;0,600;0,700;1,600&family=Barlow:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --night:    #08090D;
      --deep:     #0F111A;
      --card:     #13161F;
      --sand:     #E8C97A;
      --sand-dim: #B89A4A;
      --ember:    #D95F2B;
      --offwhite: #F0EDE6;
      --mid:      #6B7080;
      --muted:    #3A3E4A;
      --success:  #3DB566;
      --blue:     #5BAEC9;
      --teal:     #1D8A7E;
      --border:   rgba(240,237,230,0.07);
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Barlow', sans-serif;
      background: var(--night);
      color: var(--offwhite);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    body::after {
      content: '';
      position: fixed; inset: 0; z-index: 9999;
      pointer-events: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23g)' opacity='1'/%3E%3C/svg%3E");
      opacity: 0.028;
    }

    ::-webkit-scrollbar { width: 3px; }
    ::-webkit-scrollbar-track { background: var(--night); }
    ::-webkit-scrollbar-thumb { background: var(--sand-dim); }

    /* ‚ïê‚ïê‚ïê NAV ‚ïê‚ïê‚ïê */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 200;
      padding: 0 1.5rem;
      height: 60px;
      display: flex; align-items: center; justify-content: space-between;
      transition: background 0.4s, border-bottom 0.4s;
    }
    nav.scrolled {
      background: rgba(8,9,13,0.92);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid var(--border);
    }

    .nav-logo {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.55rem;
      letter-spacing: 0.04em;
      color: var(--offwhite);
      text-decoration: none;
      display: flex; align-items: center; gap: 0.4rem;
    }
    .nav-logo-b {
      display: inline-flex; align-items: center; justify-content: center;
      width: 28px; height: 28px;
      background: var(--sand);
      color: var(--night);
      font-size: 1.1rem;
      border-radius: 3px;
    }

    .nav-right { display: flex; align-items: center; gap: 1.25rem; }
    .nav-link {
      font-family: 'Barlow Condensed', sans-serif;
      font-weight: 600; font-size: 0.78rem;
      letter-spacing: 0.14em; text-transform: uppercase;
      color: var(--mid); text-decoration: none;
      transition: color 0.2s;
    }
    .nav-link:hover { color: var(--offwhite); }

    .nav-pill {
      background: var(--sand); color: var(--night);
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.95rem; letter-spacing: 0.08em;
      padding: 0.42rem 1.1rem;
      border-radius: 2px; text-decoration: none;
      transition: background 0.2s, transform 0.1s;
    }
    .nav-pill:hover { background: var(--ember); color: #fff; transform: translateY(-1px); }

    .hamburger {
      display: none; flex-direction: column; gap: 5px;
      background: none; border: none; cursor: pointer; padding: 4px;
    }
    .hamburger span {
      display: block; width: 22px; height: 2px;
      background: var(--offwhite);
      transition: transform 0.3s, opacity 0.3s;
    }
    .hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
    .hamburger.open span:nth-child(2) { opacity: 0; }
    .hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

    .mobile-menu {
      position: fixed; inset: 0; z-index: 190;
      background: rgba(8,9,13,0.97);
      display: flex; flex-direction: column;
      align-items: center; justify-content: center; gap: 2.5rem;
      opacity: 0; pointer-events: none;
      transition: opacity 0.3s;
    }
    .mobile-menu.open { opacity: 1; pointer-events: all; }
    .mobile-menu a {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 3.5rem; letter-spacing: 0.05em;
      color: var(--offwhite); text-decoration: none;
      transition: color 0.2s;
    }
    .mobile-menu a:hover { color: var(--sand); }

    /* ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê */
    .hero {
      position: relative; min-height: 100svh;
      display: flex; flex-direction: column; justify-content: flex-end;
      overflow: hidden;
    }

    #heroCanvas {
      position: absolute; inset: 0; z-index: 0;
    }

    .hero-orb-1 {
      position: absolute; z-index: 0;
      width: 55vw; height: 55vw; max-width: 520px; max-height: 520px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(232,201,122,0.14) 0%, transparent 70%);
      top: 5%; right: -10%;
      animation: orb-drift 8s ease-in-out infinite alternate;
    }
    .hero-orb-2 {
      position: absolute; z-index: 0;
      width: 40vw; height: 40vw; max-width: 380px; max-height: 380px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(217,95,43,0.1) 0%, transparent 70%);
      bottom: 15%; left: -5%;
      animation: orb-drift 11s ease-in-out infinite alternate-reverse;
    }
    @keyframes orb-drift {
      from { transform: translate(0, 0) scale(1); }
      to   { transform: translate(20px, -20px) scale(1.06); }
    }

    .hero-content {
      position: relative; z-index: 2;
      padding: 0 1.5rem 4rem;
      max-width: 560px;
    }

    .hero-kicker {
      display: inline-flex; align-items: center; gap: 0.6rem;
      font-family: 'Barlow Condensed', sans-serif;
      font-weight: 600; font-size: 0.7rem;
      letter-spacing: 0.28em; text-transform: uppercase;
      color: var(--sand);
      border: 1px solid rgba(232,201,122,0.25);
      padding: 0.35rem 0.8rem;
      border-radius: 100px;
      margin-bottom: 1.2rem;
      backdrop-filter: blur(8px);
      background: rgba(232,201,122,0.05);
    }
    .live-dot {
      width: 6px; height: 6px; border-radius: 50%;
      background: var(--success);
      box-shadow: 0 0 0 0 rgba(61,181,102,0.6);
      animation: live-pulse 2s ease-in-out infinite;
    }
    @keyframes live-pulse {
      0%   { box-shadow: 0 0 0 0 rgba(61,181,102,0.6); }
      70%  { box-shadow: 0 0 0 7px rgba(61,181,102,0); }
      100% { box-shadow: 0 0 0 0 rgba(61,181,102,0); }
    }

    .hero-h1 {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(4.8rem, 20vw, 9rem);
      line-height: 0.88;
      letter-spacing: 0.015em;
      margin-bottom: 1.5rem;
    }
    .h1-sand    { color: var(--sand); }
    .h1-white   { color: var(--offwhite); }
    .h1-outline {
      color: transparent;
      -webkit-text-stroke: 1.5px rgba(240,237,230,0.35);
    }

    .hero-desc {
      font-size: 0.95rem; font-weight: 300; line-height: 1.75;
      color: var(--mid); max-width: 340px; margin-bottom: 2.25rem;
    }

    .hero-ctas { display: flex; gap: 0.75rem; flex-wrap: wrap; }

    .btn { display: inline-block; text-decoration: none; border-radius: 2px; transition: all 0.2s; }
    .btn-sand {
      background: var(--sand); color: var(--night);
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.1rem; letter-spacing: 0.08em;
      padding: 0.9rem 2.1rem;
    }
    .btn-sand:hover { background: var(--ember); color: #fff; transform: translateY(-2px); box-shadow: 0 8px 24px rgba(217,95,43,0.35); }
    .btn-sand:active { transform: translateY(0); }

    .btn-outline {
      color: var(--offwhite); border: 1px solid rgba(240,237,230,0.18);
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.1rem; letter-spacing: 0.08em;
      padding: 0.9rem 2.1rem;
      backdrop-filter: blur(4px);
    }
    .btn-outline:hover { border-color: var(--sand); color: var(--sand); transform: translateY(-2px); }

    .hero-net-decal {
      position: absolute; right: -5%; top: 50%; transform: translateY(-50%);
      z-index: 1; opacity: 0.055; width: min(380px, 65vw);
      pointer-events: none;
    }

    .hero-scroll-cue {
      position: absolute; bottom: 1.75rem; right: 1.75rem; z-index: 3;
      display: flex; flex-direction: column; align-items: center; gap: 5px;
    }
    .scroll-ring {
      width: 36px; height: 36px; border-radius: 50%;
      border: 1px solid rgba(240,237,230,0.15);
      display: flex; align-items: center; justify-content: center;
      animation: ring-float 2.4s ease-in-out infinite;
    }
    .scroll-ring svg { width: 14px; opacity: 0.4; }
    @keyframes ring-float {
      0%,100% { transform: translateY(0); }
      50%      { transform: translateY(5px); }
    }
    .scroll-text {
      font-family: 'Barlow Condensed', sans-serif;
      font-size: 0.6rem; letter-spacing: 0.2em;
      text-transform: uppercase; color: var(--muted);
      writing-mode: vertical-lr;
    }

    /* ‚ïê‚ïê‚ïê MARQUEE ‚ïê‚ïê‚ïê */
    .marquee-strip {
      position: relative; overflow: hidden;
      background: var(--sand);
      padding: 0.7rem 0;
    }
    .marquee-strip::before,
    .marquee-strip::after {
      content: ''; position: absolute; top: 0; bottom: 0; width: 60px; z-index: 1;
    }
    .marquee-strip::before { left: 0; background: linear-gradient(to right, var(--sand), transparent); }
    .marquee-strip::after  { right: 0; background: linear-gradient(to left, var(--sand), transparent); }
    .marquee-inner {
      display: flex; width: max-content;
      animation: marquee 20s linear infinite;
    }
    .marquee-inner:hover { animation-play-state: paused; }
    .marquee-item {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.95rem; letter-spacing: 0.1em;
      color: var(--night); padding: 0 1.25rem; white-space: nowrap;
    }
    .marquee-sep { color: var(--ember); padding: 0; font-size: 0.8rem; }
    @keyframes marquee {
      from { transform: translateX(0); }
      to   { transform: translateX(-50%); }
    }

    /* ‚ïê‚ïê‚ïê SECTIONS ‚ïê‚ïê‚ïê */
    .section { position: relative; }
    .inner {
      max-width: 500px; margin: 0 auto;
      padding: 6rem 1.5rem;
    }

    .eyebrow {
      font-family: 'Barlow Condensed', sans-serif;
      font-weight: 600; font-size: 0.68rem;
      letter-spacing: 0.3em; text-transform: uppercase;
      color: var(--ember); margin-bottom: 0.85rem;
      display: flex; align-items: center; gap: 0.6rem;
    }
    .eyebrow::before {
      content: ''; display: block;
      width: 20px; height: 1px; background: var(--ember);
    }

    .sec-title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(3rem, 10vw, 5rem);
      line-height: 0.92; letter-spacing: 0.02em;
      color: var(--offwhite); margin-bottom: 1.5rem;
    }
    .sec-body {
      font-size: 0.92rem; font-weight: 300; line-height: 1.8;
      color: var(--mid); max-width: 420px;
    }

    /* ‚ïê‚ïê‚ïê ABOUT ‚ïê‚ïê‚ïê */
    .about { background: var(--deep); }

    .about-accent {
      position: absolute; right: -0.5rem; top: 3rem;
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(8rem, 30vw, 18rem);
      line-height: 1; letter-spacing: -0.02em;
      color: transparent;
      -webkit-text-stroke: 1px rgba(232,201,122,0.06);
      pointer-events: none; user-select: none;
    }

    .stats-row {
      display: grid; grid-template-columns: repeat(3,1fr);
      gap: 1px; margin-top: 3rem;
      background: var(--border); border-radius: 6px; overflow: hidden;
    }
    .stat {
      background: var(--card); padding: 1.75rem 1rem; text-align: center;
    }
    .stat-n {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 3rem; color: var(--sand);
      line-height: 1; display: block;
    }
    .stat-l {
      font-family: 'Barlow Condensed', sans-serif;
      font-size: 0.65rem; letter-spacing: 0.18em;
      text-transform: uppercase; color: var(--mid); margin-top: 0.25rem;
    }

    .amenities {
      display: flex; flex-wrap: wrap; gap: 0.5rem;
      margin-top: 2.25rem;
    }
    .amenity-tag {
      font-family: 'Barlow Condensed', sans-serif;
      font-weight: 600; font-size: 0.72rem;
      letter-spacing: 0.12em; text-transform: uppercase;
      color: var(--mid); border: 1px solid var(--border);
      padding: 0.35rem 0.75rem; border-radius: 2px;
      transition: border-color 0.2s, color 0.2s;
    }
    .amenity-tag:hover { border-color: rgba(232,201,122,0.3); color: var(--sand); }

    /* ‚ïê‚ïê‚ïê PROGRAMS ‚ïê‚ïê‚ïê */
    .programs { background: var(--night); }

    .prog-list {
      margin-top: 2.5rem;
      border-top: 1px solid var(--border);
    }
    .prog-row {
      display: flex; align-items: flex-start; gap: 1.25rem;
      padding: 1.5rem 0; border-bottom: 1px solid var(--border);
      cursor: default;
      position: relative;
      transition: padding-left 0.25s;
    }
    .prog-row::before {
      content: ''; position: absolute; left: 0; top: 0; bottom: 0;
      width: 0; background: var(--sand);
      transition: width 0.25s;
    }
    .prog-row:hover { padding-left: 0.75rem; }
    .prog-row:hover::before { width: 2px; }

    .prog-num {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.75rem; color: var(--muted);
      letter-spacing: 0.08em; flex-shrink: 0;
      width: 24px; text-align: right; padding-top: 0.15rem;
    }
    .prog-body { flex: 1; }
    .prog-name {
      font-family: 'Barlow Condensed', sans-serif;
      font-weight: 700; font-size: 1.05rem;
      letter-spacing: 0.03em; color: var(--offwhite);
      margin-bottom: 0.3rem;
    }
    .prog-desc {
      font-size: 0.83rem; color: var(--mid); font-weight: 300; line-height: 1.55;
    }
    .prog-right { flex-shrink: 0; text-align: right; }
    .prog-price {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.05rem; color: var(--sand);
    }
    .prog-badge {
      display: block;
      font-family: 'Barlow Condensed', sans-serif;
      font-size: 0.6rem; letter-spacing: 0.12em;
      text-transform: uppercase; color: var(--muted);
      margin-top: 0.3rem;
    }

    /* ‚ïê‚ïê‚ïê COUNTDOWN ‚ïê‚ïê‚ïê */
    .countdown-section { background: var(--ember); overflow: hidden; position: relative; }
    .countdown-section::before {
      content: ''; position: absolute; inset: 0;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60'%3E%3Ccircle cx='30' cy='30' r='1' fill='rgba(0,0,0,0.08)'/%3E%3C/svg%3E");
    }
    .countdown-inner {
      position: relative; z-index: 1;
      max-width: 500px; margin: 0 auto;
      padding: 3.5rem 1.5rem;
      text-align: center;
    }
    .cd-label {
      font-family: 'Barlow Condensed', sans-serif;
      font-weight: 600; font-size: 0.7rem;
      letter-spacing: 0.3em; text-transform: uppercase;
      color: rgba(255,255,255,0.65); margin-bottom: 0.5rem;
    }
    .cd-event-name {
      font-family: 'Bebas Neue', sans-serif;
      font-size: clamp(2.2rem, 8vw, 3.5rem);
      color: #fff; letter-spacing: 0.03em;
      margin-bottom: 2rem; line-height: 1;
    }
    .cd-boxes {
      display: flex; gap: 0.75rem; justify-content: center; margin-bottom: 2rem;
    }
    .cd-box {
      background: rgba(0,0,0,0.2);
      border-radius: 4px; padding: 1rem 0;
      width: 70px;
    }
    .cd-num {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 2.5rem; color: #fff;
      line-height: 1; display: block;
    }
    .cd-unit {
      font-family: 'Barlow Condensed', sans-serif;
      font-size: 0.6rem; letter-spacing: 0.18em;
      text-transform: uppercase; color: rgba(255,255,255,0.55);
      display: block; margin-top: 0.2rem;
    }
    .cd-sep {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 2rem; color: rgba(255,255,255,0.4);
      align-self: flex-start; padding-top: 0.75rem;
    }
    .btn-white {
      background: #fff; color: var(--ember);
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.05rem; letter-spacing: 0.08em;
      padding: 0.85rem 2rem; border-radius: 2px;
      text-decoration: none; display: inline-block;
      transition: background 0.2s, transform 0.1s;
    }
    .btn-white:hover { background: var(--night); color: var(--sand); transform: translateY(-1px); }

    /* ‚ïê‚ïê‚ïê EVENTS ‚ïê‚ïê‚ïê */
    .events { background: var(--deep); }

    .event-grid { display: grid; gap: 0.75rem; margin-top: 2.5rem; }
    .event-card {
      background: var(--card); border: 1px solid var(--border);
      border-radius: 6px; padding: 1.25rem;
      display: flex; gap: 1rem; align-items: flex-start;
      transition: border-color 0.25s, transform 0.2s;
    }
    .event-card:hover { border-color: rgba(232,201,122,0.25); transform: translateX(4px); }

    .ev-date {
      flex-shrink: 0; width: 48px; height: 52px;
      background: var(--deep); border: 1px solid var(--border);
      border-radius: 4px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
    }
    .ev-d { font-family:'Bebas Neue',sans-serif; font-size:1.5rem; color:var(--sand); line-height:1; }
    .ev-m { font-family:'Barlow Condensed',sans-serif; font-size:0.58rem; letter-spacing:0.15em; text-transform:uppercase; color:var(--mid); }

    .ev-info { flex:1; }
    .ev-name { font-family:'Barlow Condensed',sans-serif; font-weight:700; font-size:1rem; letter-spacing:0.02em; color:var(--offwhite); margin-bottom:0.2rem; }
    .ev-sub { font-size:0.78rem; color:var(--mid); font-weight:300; }
    .ev-tag {
      margin-left:auto; flex-shrink:0; align-self:center;
      font-family:'Barlow Condensed',sans-serif; font-weight:700;
      font-size:0.58rem; letter-spacing:0.12em; text-transform:uppercase;
      padding:0.25rem 0.55rem; border-radius:2px;
    }
    .tag-open   { background:rgba(61,181,102,0.12); color:var(--success); }
    .tag-weekly { background:rgba(91,174,201,0.12); color:var(--blue); }

    /* ‚ïê‚ïê‚ïê MEMBERSHIP ‚ïê‚ïê‚ïê */
    .membership { background: var(--night); }

    .plans { display:flex; flex-direction:column; gap:0.75rem; margin-top:2.5rem; }

    .plan {
      border:1px solid var(--border); border-radius:6px;
      padding:1.75rem; position:relative; overflow:hidden;
      transition:border-color 0.25s, transform 0.2s;
    }
    .plan:hover { border-color:rgba(232,201,122,0.2); transform:translateX(4px); }

    .plan.featured {
      border-color:rgba(232,201,122,0.3);
      background: linear-gradient(145deg, rgba(232,201,122,0.05) 0%, transparent 50%);
    }
    .plan.featured::after {
      content:'MOST POPULAR';
      position:absolute; top:0; right:0;
      background:var(--sand); color:var(--night);
      font-family:'Barlow Condensed',sans-serif; font-weight:700;
      font-size:0.58rem; letter-spacing:0.15em;
      padding:0.28rem 0.7rem; border-radius:0 6px 0 4px;
    }

    .plan-header { display:flex; align-items:flex-start; justify-content:space-between; margin-bottom:1.25rem; }
    .plan-name { font-family:'Bebas Neue',sans-serif; font-size:1.5rem; letter-spacing:0.04em; color:var(--offwhite); }
    .plan-price-block { text-align:right; }
    .plan-price { font-family:'Bebas Neue',sans-serif; font-size:2.5rem; color:var(--sand); line-height:1; }
    .plan-price-meta { font-family:'Barlow Condensed',sans-serif; font-size:0.65rem; letter-spacing:0.1em; color:var(--mid); display:block; }
    .plan-divider { height:1px; background:var(--border); margin-bottom:1.25rem; }
    .plan-features { list-style:none; display:flex; flex-direction:column; gap:0.6rem; }
    .plan-features li { font-size:0.84rem; color:var(--mid); font-weight:300; display:flex; align-items:center; gap:0.6rem; }
    .plan-features li::before { content:'‚Üó'; color:var(--sand); font-size:0.7rem; }

    /* ‚ïê‚ïê‚ïê CULTURE GRID ‚ïê‚ïê‚ïê */
    .culture-grid {
      display:grid; grid-template-columns:1fr 1fr;
    }
    .culture-cell {
      padding:3.5rem 1.5rem;
      display:flex; align-items:flex-end;
      min-height:220px; position:relative; overflow:hidden;
    }
    .culture-cell:nth-child(1) { background:var(--sand); }
    .culture-cell:nth-child(2) { background:var(--ember); }
    .culture-cell:nth-child(3) { background:var(--deep); border-top:1px solid var(--border); }
    .culture-cell:nth-child(4) { background:var(--night); border-top:1px solid var(--border); border-left:1px solid var(--border); }
    .culture-word {
      font-family:'Bebas Neue',sans-serif;
      font-size:clamp(2.5rem,8vw,4rem); line-height:0.88;
      letter-spacing:0.02em; position:relative; z-index:1;
    }
    .culture-cell:nth-child(1) .culture-word { color:var(--night); }
    .culture-cell:nth-child(2) .culture-word { color:#fff; }
    .culture-cell:nth-child(3) .culture-word { color:var(--offwhite); }
    .culture-cell:nth-child(4) .culture-word { color:var(--sand); }
    .culture-sub {
      position:absolute; top:1.25rem; left:1.5rem;
      font-family:'Barlow Condensed',sans-serif;
      font-size:0.62rem; letter-spacing:0.2em; text-transform:uppercase;
    }
    .culture-cell:nth-child(1) .culture-sub { color:rgba(8,9,13,0.4); }
    .culture-cell:nth-child(2) .culture-sub { color:rgba(255,255,255,0.45); }
    .culture-cell:nth-child(3) .culture-sub { color:var(--mid); }
    .culture-cell:nth-child(4) .culture-sub { color:var(--muted); }
    .culture-bg-char {
      position:absolute; bottom:-0.5rem; right:0.75rem;
      font-family:'Bebas Neue',sans-serif;
      font-size:8rem; line-height:1; opacity:0.06; user-select:none;
    }

    /* ‚ïê‚ïê‚ïê LOCATION ‚ïê‚ïê‚ïê */
    .location { background: var(--deep); }

    .loc-card {
      margin-top:2rem;
      border:1px solid var(--border); border-radius:6px; overflow:hidden;
    }
    .loc-map {
      height:190px;
      background:linear-gradient(135deg,#0c0e16 0%,#131825 100%);
      position:relative; display:flex; align-items:center; justify-content:center;
    }
    .loc-map::before, .loc-map::after {
      content:''; position:absolute; border-radius:50%;
      border:1px solid rgba(232,201,122,0.1);
    }
    .loc-map::before { width:260px; height:260px; }
    .loc-map::after  { width:140px; height:140px; border-color:rgba(232,201,122,0.18); }
    .map-dot-wrap { position:relative; z-index:1; display:flex; flex-direction:column; align-items:center; }
    .map-dot {
      width:12px; height:12px; border-radius:50%; background:var(--ember);
      box-shadow:0 0 0 4px rgba(217,95,43,0.2), 0 0 0 8px rgba(217,95,43,0.1);
      animation:map-pulse 2.5s ease-in-out infinite;
    }
    @keyframes map-pulse {
      0%,100% { box-shadow:0 0 0 4px rgba(217,95,43,0.25),0 0 0 8px rgba(217,95,43,0.1); }
      50%      { box-shadow:0 0 0 7px rgba(217,95,43,0.15),0 0 0 14px rgba(217,95,43,0.05); }
    }
    .map-pin-stem { width:1px; height:20px; background:linear-gradient(to bottom,var(--ember),transparent); margin-top:2px; }
    .map-coords {
      position:absolute; bottom:0.75rem; left:50%; transform:translateX(-50%);
      font-family:'Barlow Condensed',sans-serif; font-size:0.58rem; letter-spacing:0.15em;
      color:rgba(232,201,122,0.4); white-space:nowrap;
    }
    .loc-details { padding:1.5rem; display:flex; flex-direction:column; gap:1rem; }
    .loc-row { display:flex; gap:0.85rem; align-items:flex-start; }
    .loc-icon { font-size:0.95rem; flex-shrink:0; padding-top:0.05rem; }
    .loc-text { font-size:0.85rem; font-weight:300; color:var(--mid); line-height:1.5; }
    .loc-text strong { font-weight:500; color:var(--offwhite); display:block; margin-bottom:0.1rem; }
    .loc-text a { color:var(--sand); text-decoration:none; }
    .loc-text a:hover { text-decoration:underline; }

    /* ‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê */
    footer {
      background:#050609;
      border-top:1px solid rgba(240,237,230,0.04);
      padding:4rem 1.5rem 2.5rem;
    }
    .footer-inner { max-width:500px; margin:0 auto; }
    .footer-logo {
      font-family:'Bebas Neue',sans-serif; font-size:3.5rem;
      letter-spacing:0.03em; line-height:1; margin-bottom:0.25rem;
    }
    .footer-logo .f-sand { color:var(--sand); }
    .footer-logo .f-dim  { color:var(--muted); }
    .footer-sub {
      font-family:'Barlow Condensed',sans-serif;
      font-size:0.68rem; letter-spacing:0.25em; text-transform:uppercase;
      color:var(--muted); margin-bottom:2.5rem;
    }
    .footer-cols { display:grid; grid-template-columns:1fr 1fr; gap:2rem 1rem; margin-bottom:2.5rem; }
    .footer-col-label {
      font-family:'Barlow Condensed',sans-serif;
      font-size:0.65rem; letter-spacing:0.2em; text-transform:uppercase;
      color:var(--ember); margin-bottom:0.85rem;
    }
    .footer-col ul { list-style:none; display:flex; flex-direction:column; gap:0.5rem; }
    .footer-col a { font-size:0.85rem; color:var(--mid); text-decoration:none; font-weight:300; transition:color 0.2s; }
    .footer-col a:hover { color:var(--offwhite); }
    .footer-divider { height:1px; background:rgba(240,237,230,0.05); margin-bottom:2rem; }
    .footer-bottom { display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:0.75rem; }
    .footer-copy { font-size:0.7rem; color:rgba(107,112,128,0.5); }
    .footer-ig {
      font-family:'Barlow Condensed',sans-serif; font-weight:600;
      font-size:0.72rem; letter-spacing:0.1em;
      color:var(--mid); text-decoration:none;
      border:1px solid var(--border); padding:0.35rem 0.75rem; border-radius:2px;
      transition:all 0.2s;
    }
    .footer-ig:hover { color:var(--sand); border-color:rgba(232,201,122,0.3); }

    /* ‚ïê‚ïê‚ïê STICKY MOBILE BAR ‚ïê‚ïê‚ïê */
    .sticky-bar {
      position:fixed; bottom:0; left:0; right:0; z-index:150;
      background:rgba(8,9,13,0.96); backdrop-filter:blur(20px);
      border-top:1px solid var(--border);
      padding:0.85rem 1.5rem;
      display:flex; gap:0.65rem;
      transform:translateY(100%);
      transition:transform 0.5s cubic-bezier(0.34,1.56,0.64,1);
    }
    .sticky-bar.visible { transform:translateY(0); }
    .sticky-bar .btn-sand, .sticky-bar .btn-outline { flex:1; text-align:center; font-size:1rem; padding:0.85rem 0.5rem; }

    /* ‚ïê‚ïê‚ïê REVEAL ‚ïê‚ïê‚ïê */
    .r {
      opacity:0; transform:translateY(20px);
      transition:opacity 0.65s ease, transform 0.65s ease;
    }
    .r.in { opacity:1; transform:translateY(0); }
    .r-d1 { transition-delay:0.1s; }
    .r-d2 { transition-delay:0.2s; }
    .r-d3 { transition-delay:0.3s; }
    .r-d4 { transition-delay:0.4s; }

    /* ‚ïê‚ïê‚ïê RESPONSIVE ‚ïê‚ïê‚ïê */
    @media (max-width:639px) {
      .nav-right .nav-link { display:none; }
      .nav-right .nav-pill { display:none; }
      .hamburger { display:flex; }
      .hero-net-decal { display:none; }
      .sticky-bar { display:flex; }
      .cd-box { width:58px; }
      .cd-num { font-size:2rem; }
    }
    @media (min-width:640px) {
      .hamburger { display:none; }
      .sticky-bar { display:none; }
      .plans { flex-direction:row; }
      .plan { flex:1; }
      .inner { max-width:700px; }
    }
  /* ‚ïê‚ïê‚ïê BLITZ MODAL ‚ïê‚ïê‚ïê */
  #blitzModal {
    display:none; position:fixed; inset:0; z-index:9999;
    background:rgba(8,9,13,0.97); flex-direction:column;
    align-items:center; justify-content:center; padding:0.6rem;
  }
  #blitzModal.open { display:flex; }
  #blitzModal .bm-close {
    position:absolute; top:14px; right:18px; background:none; border:none;
    color:rgba(240,237,230,0.4); font-size:1.6rem; cursor:pointer; line-height:1;
    transition:color 0.15s;
  }
  #blitzModal .bm-close:hover { color:var(--offwhite); }
  #blitzModal .bm-hud {
    display:flex; align-items:center; justify-content:space-between;
    width:100%; max-width:760px; margin-bottom:0.3rem; padding:0 4px;
  }
  #blitzModal .bm-canvas-wrap {
    position:relative; width:100%; max-width:760px;
  }
  #blitzModal canvas {
    display:block; width:100%; border-radius:14px;
    border:1px solid rgba(232,201,122,0.12);
  }
  #blitzModal .bm-overlay {
    display:none; position:absolute; inset:0; background:rgba(8,9,13,0.93);
    border-radius:14px; flex-direction:column; align-items:center;
    justify-content:center; padding:1.5rem; gap:0;
  }
  #blitzModal .bm-pwbar {
    min-height:1.6rem; margin-top:0.4rem; display:flex;
    gap:0.4rem; justify-content:center; flex-wrap:wrap;
    width:100%; max-width:760px;
  }
  #blitzModal .bm-mobile {
    display:none; justify-content:center; gap:0.8rem; margin-top:0.6rem;
  }
  </style>
</head>
<body>

<!-- BLITZ FULLSCREEN MODAL -->
<div id="blitzModal">
  <button class="bm-close" onclick="closeBlitz()" title="Close (Esc)">‚úï</button>
  <!-- HUD -->
  <div class="bm-hud">
    <div style="display:flex;align-items:center;gap:0.5rem;">
      <span style="font-family:'Barlow Condensed',sans-serif;font-size:0.6rem;letter-spacing:0.18em;color:var(--mid);">WAVE</span>
      <span id="blitzWave" style="font-family:'Bebas Neue',sans-serif;font-size:2rem;color:var(--sand);">1</span>
    </div>
    <div style="display:flex;flex-direction:column;align-items:center;gap:0.1rem;">
      <span id="blitzCombo" style="font-family:'Barlow Condensed',sans-serif;font-size:0.75rem;font-weight:700;letter-spacing:0.15em;color:var(--ember);min-height:1em;"></span>
      <span id="blitzHP" style="font-size:1rem;letter-spacing:0.06em;">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span>
    </div>
    <div style="display:flex;align-items:center;gap:0.5rem;">
      <span id="blitzScore" style="font-family:'Bebas Neue',sans-serif;font-size:2rem;color:var(--offwhite);">0</span>
      <span style="font-family:'Barlow Condensed',sans-serif;font-size:0.6rem;letter-spacing:0.18em;color:var(--mid);">PTS</span>
    </div>
  </div>
  <!-- Canvas -->
  <div class="bm-canvas-wrap">
    <canvas id="blitzCanvas"></canvas>
    <div id="blitzOverlay" class="bm-overlay"></div>
  </div>
  <!-- Powerup bar -->
  <div id="blitzPwBar" class="bm-pwbar"></div>
  <!-- Mobile controls -->
  <div id="blitzMobile" class="bm-mobile">
    <button id="blitzLeft"  style="font-size:1.3rem;background:rgba(232,201,122,0.1);border:1px solid rgba(232,201,122,0.25);border-radius:10px;padding:0.65rem 1.3rem;color:var(--sand);cursor:pointer;user-select:none;">‚óÄ</button>
    <button id="blitzJump"  style="font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:0.9rem;letter-spacing:0.1em;background:var(--sand);border:none;border-radius:10px;padding:0.65rem 1.6rem;color:var(--night);cursor:pointer;user-select:none;">JUMP</button>
    <button id="blitzRight" style="font-size:1.3rem;background:rgba(232,201,122,0.1);border:1px solid rgba(232,201,122,0.25);border-radius:10px;padding:0.65rem 1.3rem;color:var(--sand);cursor:pointer;user-select:none;">‚ñ∂</button>
  </div>
</div>

<!-- NAV -->
<nav id="nav">
  <a href="#" class="nav-logo">
    <span class="nav-logo-b">B</span>AKYARD
  </a>
  <div class="nav-right">
    <a href="#programs" class="nav-link">Train</a>
    <a href="#events" class="nav-link">Events</a>
    <a href="#membership" class="nav-link">Join</a>
    <a href="#" onclick="openBlitz();return false;" class="nav-link">üèê Play</a>
    <a href="tel:2148867440" class="nav-pill">Book Now</a>
    <button class="hamburger" id="ham" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>

<!-- MOBILE MENU -->
<div class="mobile-menu" id="mobileMenu">
  <a href="#programs" class="mm-link">Train</a>
  <a href="#events" class="mm-link">Events</a>
  <a href="#membership" class="mm-link">Join</a>
  <a href="#location" class="mm-link">Find Us</a>
  <a href="tel:2148867440" class="mm-link" style="color:var(--sand)">üìû Call</a>
</div>

<!-- HERO -->
<header class="hero">
  <canvas id="heroCanvas"></canvas>
  <div class="hero-orb-1"></div>
  <div class="hero-orb-2"></div>

  <svg class="hero-net-decal" viewBox="0 0 400 200" fill="none" xmlns="http://www.w3.org/2000/svg">
    <line x1="0" y1="100" x2="400" y2="100" stroke="#E8C97A" stroke-width="2"/>
    <line x1="0" y1="0" x2="0" y2="200" stroke="#E8C97A" stroke-width="2.5"/>
    <line x1="400" y1="0" x2="400" y2="200" stroke="#E8C97A" stroke-width="2.5"/>
    <path d="M0 0 L50 100 L0 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M50 0 L100 100 L50 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M100 0 L150 100 L100 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M150 0 L200 100 L150 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M200 0 L250 100 L200 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M250 0 L300 100 L250 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M300 0 L350 100 L300 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M350 0 L400 100 L350 200" stroke="#E8C97A" stroke-width="0.8"/>
    <path d="M50 0 L0 100 L50 200" stroke="#E8C97A" stroke-width="0.6" opacity="0.5"/>
    <path d="M100 0 L50 100 L100 200" stroke="#E8C97A" stroke-width="0.6" opacity="0.5"/>
    <path d="M150 0 L100 100 L150 200" stroke="#E8C97A" stroke-width="0.6" opacity="0.5"/>
    <path d="M200 0 L150 100 L200 200" stroke="#E8C97A" stroke-width="0.6" opacity="0.5"/>
    <path d="M250 0 L200 100 L250 200" stroke="#E8C97A" stroke-width="0.6" opacity="0.5"/>
    <path d="M300 0 L250 100 L300 200" stroke="#E8C97A" stroke-width="0.6" opacity="0.5"/>
    <path d="M350 0 L300 100 L350 200" stroke="#E8C97A" stroke-width="0.6" opacity="0.5"/>
  </svg>

  <div class="hero-content">
    <div class="hero-kicker r">
      <span class="live-dot"></span>
      Plano, Texas ¬∑ Courts Open
    </div>
    <h1 class="hero-h1 r r-d1">
      <span class="h1-sand">WHERE</span><br>
      <span class="h1-white">LEGENDS</span><br>
      <span class="h1-outline">GROW.</span>
    </h1>
    <p class="hero-desc r r-d2">
      Beach volleyball sanctuary in Plano, TX. Three sand courts, elite coaching, open play every week ‚Äî and a community that has your back.
    </p>
    <div class="hero-ctas r r-d3">
      <a href="#membership" class="btn btn-sand">Join The Bakyard</a>
      <a href="#programs" class="btn btn-outline">See Programs</a>
    </div>
  </div>

  <div class="hero-scroll-cue">
    <div class="scroll-ring">
      <svg viewBox="0 0 14 14" fill="none"><path d="M7 2L7 12M7 12L3 8M7 12L11 8" stroke="#F0EDE6" stroke-width="1.2" stroke-linecap="round"/></svg>
    </div>
    <span class="scroll-text">scroll</span>
  </div>
</header>

<!-- MARQUEE -->
<div class="marquee-strip">
  <div class="marquee-inner">
    <span class="marquee-item">BUILT ON SAND</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">BACKED BY FAMILY</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">IT'S NOT A CLUB</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">OPEN PLAY EVERY SUNDAY</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">SAND IS HOME</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">GRIT GROWS HERE</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">WHERE LEGENDS GROW</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <!-- dupe for seamless loop -->
    <span class="marquee-item">BUILT ON SAND</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">BACKED BY FAMILY</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">IT'S NOT A CLUB</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">OPEN PLAY EVERY SUNDAY</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">SAND IS HOME</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">GRIT GROWS HERE</span><span class="marquee-item marquee-sep">‚ú¶</span>
    <span class="marquee-item">WHERE LEGENDS GROW</span><span class="marquee-item marquee-sep">‚ú¶</span>
  </div>
</div>

<!-- BAKYARD BLITZ TEASER -->
<section id="spike-it" style="background:var(--night);padding:4rem 0 3.5rem;text-align:center;">
  <div style="max-width:540px;margin:0 auto;padding:0 1.5rem;">
    <p style="font-family:'Barlow Condensed',sans-serif;font-size:0.7rem;letter-spacing:0.25em;text-transform:uppercase;color:var(--ember);margin-bottom:0.6rem;">Roguelike ¬∑ Bullet-Hell ¬∑ Brickbreaker</p>
    <h2 style="font-family:'Bebas Neue',sans-serif;font-size:clamp(2.8rem,8vw,5.5rem);letter-spacing:0.06em;color:var(--sand);line-height:1;margin-bottom:0.8rem;">BAKYARD BLITZ</h2>
    <p style="font-size:0.9rem;color:var(--mid);margin-bottom:1.8rem;line-height:1.6;">Break every brick ¬∑ Survive the crabs ¬∑ Stack powerups<br><span style="color:var(--mid);font-size:0.8rem;">‚Üê ‚Üí move &nbsp;¬∑&nbsp; ‚Üë / Space jump &amp; spike</span></p>
    <button onclick="openBlitz()" style="font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:1.1rem;letter-spacing:0.18em;text-transform:uppercase;background:var(--sand);color:var(--night);border:none;border-radius:10px;padding:1rem 3rem;cursor:pointer;transition:all 0.15s;"
    onmouseover="this.style.boxShadow='0 0 30px rgba(232,201,122,0.55)';this.style.transform='translateY(-2px)'"
    onmouseout="this.style.boxShadow='';this.style.transform=''">üèê PLAY NOW</button>
  </div>
</section>

<script>
(function () {
  /* ‚îÄ‚îÄ BAKYARD BLITZ: roguelike bullet-hell brickbreaker ‚îÄ‚îÄ */
  const canvas = document.getElementById('blitzCanvas');
  const ctx = canvas.getContext('2d');

  // ‚îÄ‚îÄ canvas sizing ‚Äî fills the modal viewport ‚îÄ‚îÄ
  const LW = 720, LH = 440;
  let scale = 1;
  function resize() {
    // available height: viewport minus HUD (~50px) + pwbar (~28px) + mobile (~0/60px) + padding
    const hudH   = 90;
    const maxW   = canvas.parentElement.clientWidth;
    const maxH   = window.innerHeight - hudH;
    const wByW   = maxW;
    const wByH   = maxH * (LW / LH);
    const w      = Math.min(wByW, wByH);
    scale        = w / LW;
    canvas.width  = Math.round(w);
    canvas.height = Math.round(LH * scale);
  }
  resize();
  window.addEventListener('resize', resize);

  // ‚îÄ‚îÄ modal open / close ‚îÄ‚îÄ
  window.openBlitz = function() {
    document.getElementById('blitzModal').classList.add('open');
    document.body.style.overflow = 'hidden';
    resize();
    if (gstate === 'title') { /* already showing title overlay */ }
  };
  window.closeBlitz = function() {
    document.getElementById('blitzModal').classList.remove('open');
    document.body.style.overflow = '';
  };
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') closeBlitz();
  });

  // ‚îÄ‚îÄ palette ‚îÄ‚îÄ
  const C = {
    night:'#08090D', sand:'#E8C97A', ember:'#D95F2B',
    offwhite:'#F0EDE6', mid:'#6B7080', court:'#B07840',
    success:'#4CAF72', blue:'#7BC4E2',
  };

  // ‚îÄ‚îÄ physics / layout ‚îÄ‚îÄ
  const GROUND = LH - 55;
  const CEIL   = 50;
  const GRAV   = 0.28;     // slightly less gravity = satisfying hang time
  const BASE_JUMP  = -14;
  const BASE_SPEED = 4.8;
  const BALL_R     = 12;
  const PW = 24, PH = 52;

  // ‚îÄ‚îÄ brick grid ‚îÄ‚îÄ
  const BCOLS = 9;
  const BW    = Math.floor((LW * 0.84) / BCOLS);
  const BH    = 22;
  const BX0   = Math.floor((LW - BCOLS * BW) / 2);
  const BY0   = CEIL + 8;

  // ‚îÄ‚îÄ upgrade catalogue (12 powerups) ‚îÄ‚îÄ
  const PUPS = [
    {id:'speed',    icon:'üëü', name:'SPEED SHOES',   desc:'+35% move speed',                      col:'#FFD700'},
    {id:'jump',     icon:'ü¶ò', name:'SPRING LEGS',   desc:'+25% jump height',                     col:'#80FF80'},
    {id:'bigball',  icon:'üí•', name:'MEGA BALL',     desc:'Ball grows 70% larger',                col:'#FF8080'},
    {id:'multiball',icon:'‚≠ê', name:'MULTIBALL',     desc:'Add a second ball to the mix',         col:'#E8C97A'},
    {id:'fireball', icon:'üî•', name:'FIREBALL',      desc:'Ball one-shots all bricks',            col:'#FF6030'},
    {id:'shield',   icon:'üõ°Ô∏è', name:'SHIELD UP',     desc:'+1 HP',                                col:'#7BC4E2'},
    {id:'magnet',   icon:'üß≤', name:'MAGNET',        desc:'Ball curves gently toward you',        col:'#CC60FF'},
    {id:'spike',    icon:'‚ö°', name:'THUNDER SPIKE', desc:'+50% spike power &amp; speed',         col:'#FFE040'},
    {id:'freeze',   icon:'üßä', name:'CRYO SPIKE',    desc:'Your spikes freeze nearby crabs',      col:'#40CCFF'},
    {id:'ricochet', icon:'üéØ', name:'RICOCHET',      desc:'Ball keeps full speed off every wall', col:'#FF4080'},
    {id:'ghost',    icon:'üëª', name:'GHOST BALL',    desc:'Ball phases through the top brick row',col:'#EEEEEE'},
    {id:'bomb',     icon:'üí£', name:'BEACH BOMB',    desc:'Brick hits deal area-of-effect damage',col:'#FF4040'},
  ];

  // ‚îÄ‚îÄ helpers ‚îÄ‚îÄ
  const clamp = (v,a,b) => Math.max(a,Math.min(b,v));
  const rnd   = (a,b)   => a + Math.random()*(b-a);
  const rndI  = (a,b)   => Math.floor(rnd(a,b+1));
  function rRect(x,y,w,h,r) {
    ctx.beginPath();
    ctx.moveTo(x+r,y); ctx.lineTo(x+w-r,y); ctx.quadraticCurveTo(x+w,y,x+w,y+r);
    ctx.lineTo(x+w,y+h-r); ctx.quadraticCurveTo(x+w,y+h,x+w-r,y+h);
    ctx.lineTo(x+r,y+h); ctx.quadraticCurveTo(x,y+h,x,y+h-r);
    ctx.lineTo(x,y+r); ctx.quadraticCurveTo(x,y,x+r,y);
    ctx.closePath();
  }

  // ‚îÄ‚îÄ game state ‚îÄ‚îÄ
  let gstate = 'title';
  let wave, score, combo, maxCombo;
  let player, balls, bricks, crabs, projs, parts, efx;
  let pw, pickOpts;
  let keys = {}, mL=false, mR=false, mJ=false, lastJ=false;

  function getR()  { return BALL_R * (pw.bigball>0 ? 1.7 : 1); }
  function initPw(){ pw = {speed:0,jump:0,bigball:0,multiball:0,fireball:0,shield:0,magnet:0,spike:0,freeze:0,ricochet:0,ghost:0,bomb:0,hp:5}; }
  function mkPlayer() { return {x:LW/2, y:GROUND, vy:0, grounded:true, spikeCD:0}; }
  function mkBall(x,y,vx,vy) {
    const r=getR();
    // always give meaningful horizontal speed ‚Äî never launches straight up
    const defVx = (Math.random()<0.5?-1:1) * (2.5 + Math.random()*3.5);
    return {x:x??LW/2, y:y??GROUND-110, vx:vx??defVx, vy:vy??-(10+Math.random()*4), r, trail:[]};
  }

  function makeBricks(wn) {
    const rows = Math.min(4+Math.floor(wn/2), 8);
    const COLS = ['#C0593A','#C09A3A','#3A7BAB','#3A9E5E','#8A4DAA','#C0A030','#3A8080','#BB3E6A'];
    const out = [];
    for (let r=0;r<rows;r++) for (let c=0;c<BCOLS;c++) {
      const hp = (wn>=4&&r<2&&Math.random()<0.3)?2:1;
      out.push({x:BX0+c*BW, y:BY0+r*(BH+4), w:BW-3, h:BH, hp, maxHp:hp, col:COLS[(c+r*3)%COLS.length], alive:true});
    }
    return out;
  }

  function spawnCrabs(wn) {
    const n = Math.min(1+Math.floor((wn-1)/2), 5);
    return Array.from({length:n}, ()=>({
      x:rnd(50,LW-50), y:GROUND, dir:Math.random()<0.5?1:-1,
      spd:rnd(0.9,1.7)+wn*0.1, shootCD:rndI(80,160), hp:wn>5?2:1, freezeT:0
    }));
  }

  function initGame() {
    wave=1; score=0; combo=0; maxCombo=0;
    initPw();
    player=mkPlayer(); balls=[mkBall()];
    bricks=makeBricks(1); crabs=[]; projs=[]; parts=[]; efx=[];
    gstate='playing'; updateHUD(); updatePwBar();
  }

  function nextWave() {
    wave++;
    player.x=LW/2; player.y=GROUND; player.vy=0; player.grounded=true;
    balls=[mkBall()];
    for (let i=1;i<=pw.multiball;i++) balls.push(mkBall(rnd(200,520),GROUND-110));
    bricks=makeBricks(wave); crabs=wave>=2?spawnCrabs(wave):[]; projs=[]; parts=[];
    updateHUD(); updatePwBar(); offerUpgrade();
  }

  function updateHUD() {
    document.getElementById('blitzScore').textContent = score;
    document.getElementById('blitzWave').textContent  = wave;
    document.getElementById('blitzHP').textContent    = '‚ù§Ô∏è'.repeat(Math.max(0,pw.hp))+'üñ§'.repeat(Math.max(0,5-pw.hp));
    document.getElementById('blitzCombo').textContent = combo>1 ? combo+'√ó COMBO!' : '';
  }

  function updatePwBar() {
    const bar = document.getElementById('blitzPwBar');
    bar.innerHTML = PUPS.filter(p=>pw[p.id]>0).map(p=>
      `<span title="${p.name}" style="font-size:1rem;background:rgba(255,255,255,0.06);border:1px solid ${p.col}55;border-radius:6px;padding:0.12rem 0.38rem;">${p.icon}${pw[p.id]>1?'<sup style="font-size:0.6rem">'+pw[p.id]+'</sup>':''}</span>`
    ).join('');
  }

  function burst(x,y,col,n=10,spd=5) {
    for (let i=0;i<n;i++) {
      const a=rnd(0,Math.PI*2), s=rnd(1,spd);
      parts.push({x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s-2,life:1,col,r:rnd(2,5)});
    }
  }

  function floatText(txt,col,x,y) {
    efx.push({txt,col,x:x??LW/2,y:y??LH*0.35,vy:-0.7,life:70,maxLife:70});
  }

  // ‚îÄ‚îÄ spike ‚îÄ‚îÄ
  function trySpike(ball) {
    if (player.grounded||player.spikeCD>0) return;
    const dx=ball.x-player.x, dy=ball.y-(player.y-PH*0.5);
    if (Math.hypot(dx,dy)>ball.r+34) return;
    const mult=1+pw.spike*0.5;
    const spd=(14+Math.abs(ball.vx)*0.25)*mult;
    // horizontal: proportional to how far ball is left/right of player
    // vertical: always strong upward ‚Äî spike goes toward the bricks
    const relX=clamp(dx/55,-1,1);
    ball.vx=relX*spd*0.65;
    ball.vy=-spd*0.88;            // strong upward every time
    player.spikeCD=14;
    burst(ball.x,ball.y,C.sand,12,8);
    floatText('SPIKE!',C.sand,ball.x,ball.y-22);
    if (pw.freeze>0) crabs.forEach(c=>{ if(Math.hypot(c.x-ball.x,c.y-ball.y)<140) c.freezeT=180; });
  }

  // ‚îÄ‚îÄ brick collision ‚îÄ‚îÄ
  function brickCollide(ball) {
    for (const b of bricks) {
      if (!b.alive) continue;
      if (pw.ghost>0&&b.y<BY0+BH+6) continue;
      const cx=clamp(ball.x,b.x,b.x+b.w), cy=clamp(ball.y,b.y,b.y+b.h);
      const dx=ball.x-cx, dy=ball.y-cy, d=Math.hypot(dx,dy);
      if (d>=ball.r) continue;
      const nx=dx/(d||1), ny=dy/(d||1);
      const spd=Math.hypot(ball.vx,ball.vy), dot=ball.vx*nx+ball.vy*ny;
      ball.vx-=2*dot*nx; ball.vy-=2*dot*ny;
      if (!pw.ricochet) { const ns=Math.hypot(ball.vx,ball.vy); if(ns>0){ball.vx=ball.vx/ns*spd;ball.vy=ball.vy/ns*spd;} }
      ball.x=cx+nx*(ball.r+1); ball.y=cy+ny*(ball.r+1);
      b.hp-=(pw.fireball>0?b.maxHp:1);
      if (b.hp<=0) {
        b.alive=false;
        burst(b.x+b.w/2,b.y+b.h/2,b.col,14,6);
        if (pw.bomb>0) bricks.forEach(n=>{ if(!n.alive||n===b) return; if(Math.hypot(n.x+n.w/2-b.x-b.w/2,n.y+n.h/2-b.y-b.h/2)<65){n.hp--;if(n.hp<=0){n.alive=false;burst(n.x+n.w/2,n.y+n.h/2,n.col,8,5);score+=10;}} });
        combo++; if(combo>maxCombo) maxCombo=combo;
        const pts=10*combo*(pw.fireball>0?2:1); score+=pts;
        floatText(combo>2?combo+'√ó COMBO +'+pts:'+'+pts, C.sand, b.x+b.w/2, b.y);
        updateHUD();
      } else { burst(ball.x,ball.y,b.col,5,3); }
      return;
    }
  }

  function loseHP(ball) {
    pw.hp--; combo=0;
    burst(ball.x,GROUND,C.ember,18,7);
    floatText('OUT!',C.ember,ball.x,GROUND-30); updateHUD();
    if (pw.hp<=0) { gstate='over'; setTimeout(showGameOver,600); return; }
    const rv=(Math.random()<0.5?-1:1)*(2.5+Math.random()*2.5);
    ball.x=player.x; ball.y=GROUND-80; ball.vx=rv; ball.vy=-(10+Math.random()*3); ball.trail=[];
  }

  // ‚îÄ‚îÄ main update ‚îÄ‚îÄ
  function update() {
    if (gstate!=='playing') return;
    const spd=BASE_SPEED*(1+pw.speed*0.35), jv=BASE_JUMP*(1+pw.jump*0.25);
    const gL=keys['ArrowLeft']||keys['KeyA']||mL;
    const gR=keys['ArrowRight']||keys['KeyD']||mR;
    const gJ=keys['ArrowUp']||keys['KeyW']||keys['Space']||mJ;
    if (gL) player.x-=spd; if (gR) player.x+=spd;
    player.x=clamp(player.x,PW/2,LW-PW/2);
    if (gJ&&!lastJ&&player.grounded){player.vy=jv;player.grounded=false;}
    lastJ=gJ;
    player.vy+=GRAV; player.y+=player.vy;
    if (player.y>=GROUND){player.y=GROUND;player.vy=0;player.grounded=true;}
    if (player.spikeCD>0) player.spikeCD--;

    balls.forEach(ball=>{
      ball.trail.push({x:ball.x,y:ball.y}); if(ball.trail.length>10) ball.trail.shift();
      if (pw.magnet>0){const dx=player.x-ball.x,dy=(player.y-PH/2)-ball.y,d=Math.hypot(dx,dy);if(d>60&&d<200){ball.vx+=dx/d*0.15;ball.vy+=dy/d*0.10;}}
      ball.vy+=GRAV; ball.x+=ball.vx; ball.y+=ball.vy;
      // walls: nearly lossless ‚Äî ball stays energetic
      const damp=pw.ricochet>0?1.0:0.97;
      if(ball.x<ball.r){ball.x=ball.r;ball.vx=Math.abs(ball.vx)*damp;}
      if(ball.x>LW-ball.r){ball.x=LW-ball.r;ball.vx=-Math.abs(ball.vx)*damp;}
      // ceiling: elastic bounce
      if(ball.y<CEIL+ball.r){ball.y=CEIL+ball.r;ball.vy=Math.abs(ball.vy)*0.95;}
      const cap=pw.ricochet>0?20:18;
      ball.vx=clamp(ball.vx,-cap,cap); ball.vy=clamp(ball.vy,-cap,cap);
      // minimum speed ‚Äî ball never gets sluggish
      const mag=Math.hypot(ball.vx,ball.vy);
      if(mag<5&&mag>0.1){ball.vx=ball.vx/mag*5;ball.vy=ball.vy/mag*5;}
      trySpike(ball); brickCollide(ball);
      if (ball.y>=GROUND-ball.r) loseHP(ball);
    });

    crabs.forEach(c=>{
      if(c.hp<=0) return;
      if(c.freezeT>0){c.freezeT--;return;}
      c.x+=c.dir*c.spd; if(c.x<30||c.x>LW-30) c.dir*=-1;
      if(--c.shootCD<=0){
        c.shootCD=rndI(80,140);
        const dx=player.x-c.x,dy=(player.y-PH*0.5)-c.y,d=Math.hypot(dx,dy);
        projs.push({x:c.x,y:c.y-20,vx:dx/d*4.2,vy:dy/d*4.2,r:7,life:140});
      }
    });

    projs.forEach(p=>{
      p.x+=p.vx; p.y+=p.vy; p.life--;
      if(Math.hypot(p.x-player.x,p.y-(player.y-PH*0.5))<p.r+14){
        pw.hp--;combo=0;burst(player.x,player.y-PH*0.5,C.ember,12,5);
        floatText('HIT!',C.ember,player.x,player.y-PH);p.life=0;updateHUD();
        if(pw.hp<=0){gstate='over';setTimeout(showGameOver,600);}
      }
    });
    projs=projs.filter(p=>p.life>0&&p.y<LH);
    crabs=crabs.filter(c=>c.hp>0);
    parts.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.vy+=0.13;p.life-=0.036;});
    parts=parts.filter(p=>p.life>0);
    efx.forEach(e=>{e.y+=e.vy;e.life--;});
    efx=efx.filter(e=>e.life>0);
    if (bricks.length>0&&bricks.every(b=>!b.alive)){gstate='picking';setTimeout(nextWave,200);}
  }

  // ‚îÄ‚îÄ draw ‚îÄ‚îÄ
  function draw() {
    ctx.save(); ctx.scale(scale,scale);
    // sky
    const sky=ctx.createLinearGradient(0,0,0,LH);
    sky.addColorStop(0,'#020308');sky.addColorStop(0.7,'#08090D');sky.addColorStop(1,'#0D0F18');
    ctx.fillStyle=sky; ctx.fillRect(0,0,LW,LH);
    // stars
    for(let i=0;i<60;i++){
      const sx=(i*137)%LW,sy=(i*79)%(GROUND*0.5);
      const tw=0.4+0.6*Math.sin(Date.now()*0.0007+i*1.7);
      ctx.globalAlpha=tw*0.65;ctx.fillStyle=C.offwhite;
      ctx.beginPath();ctx.arc(sx,sy,i%5===0?1.4:0.65,0,Math.PI*2);ctx.fill();
    }
    ctx.globalAlpha=1;
    // moon
    ctx.fillStyle='rgba(232,201,122,0.88)';ctx.beginPath();ctx.arc(LW-58,36,16,0,Math.PI*2);ctx.fill();
    const mg=ctx.createRadialGradient(LW-58,36,4,LW-58,36,52);
    mg.addColorStop(0,'rgba(232,201,122,0.15)');mg.addColorStop(1,'transparent');
    ctx.fillStyle=mg;ctx.fillRect(0,0,LW,LH);
    // ceiling hint
    ctx.fillStyle='rgba(232,201,122,0.06)';ctx.fillRect(0,0,LW,CEIL);
    ctx.fillStyle='rgba(232,201,122,0.1)';ctx.fillRect(0,CEIL-2,LW,2);
    // bricks
    bricks.forEach(b=>{
      if(!b.alive) return;
      const g=ctx.createLinearGradient(b.x,b.y,b.x,b.y+b.h);
      g.addColorStop(0,b.col);g.addColorStop(1,b.col+'88');ctx.fillStyle=g;
      rRect(b.x,b.y,b.w,b.h,4);ctx.fill();
      if(b.hp<b.maxHp){ctx.strokeStyle='rgba(0,0,0,0.7)';ctx.lineWidth=1.5;ctx.beginPath();ctx.moveTo(b.x+4,b.y+4);ctx.lineTo(b.x+b.w-4,b.y+b.h-4);ctx.stroke();ctx.beginPath();ctx.moveTo(b.x+b.w-4,b.y+4);ctx.lineTo(b.x+4,b.y+b.h-4);ctx.stroke();}
      ctx.strokeStyle='rgba(255,255,255,0.18)';ctx.lineWidth=1;rRect(b.x,b.y,b.w,b.h,4);ctx.stroke();
    });
    // sand
    const sg=ctx.createLinearGradient(0,GROUND,0,LH);
    sg.addColorStop(0,'#B07840');sg.addColorStop(1,'#7A5028');
    ctx.fillStyle=sg;ctx.fillRect(0,GROUND,LW,LH-GROUND);
    // crabs
    crabs.forEach(c=>{
      if(c.hp<=0) return;
      const cx=c.x,cy=c.y,fr=c.freezeT>0;
      ctx.fillStyle=fr?'#80CCFF':'#D05030';ctx.beginPath();ctx.ellipse(cx,cy-13,17,11,0,0,Math.PI*2);ctx.fill();
      ctx.fillStyle=fr?'#5AB0FF':'#B03820';
      ctx.beginPath();ctx.ellipse(cx-23,cy-15,9,6,-0.4,0,Math.PI*2);ctx.fill();
      ctx.beginPath();ctx.ellipse(cx+23,cy-15,9,6,0.4,0,Math.PI*2);ctx.fill();
      [[cx-7,cy-19],[cx+7,cy-19]].forEach(([ex,ey])=>{
        ctx.fillStyle=fr?'#FFF':'#FFE040';ctx.beginPath();ctx.arc(ex,ey,4,0,Math.PI*2);ctx.fill();
        ctx.fillStyle='#000';ctx.beginPath();ctx.arc(ex,ey,2,0,Math.PI*2);ctx.fill();
      });
      ctx.strokeStyle=fr?'#80CCFF':'#B03820';ctx.lineWidth=2;
      for(let l=0;l<3;l++){ctx.beginPath();ctx.moveTo(cx-13+l*4,cy-9);ctx.lineTo(cx-19+l*3,cy+2);ctx.stroke();ctx.beginPath();ctx.moveTo(cx+13-l*4,cy-9);ctx.lineTo(cx+19-l*3,cy+2);ctx.stroke();}
      if(c.hp>1){ctx.fillStyle=C.success;for(let h=0;h<c.hp;h++)ctx.fillRect(cx-8+h*10,cy-30,8,4);}
      if(fr){ctx.globalAlpha=0.5;ctx.fillStyle='#40CCFF';ctx.beginPath();ctx.ellipse(cx,cy-13,18,12,0,0,Math.PI*2);ctx.fill();ctx.globalAlpha=1;}
    });
    // coconut projectiles
    projs.forEach(p=>{
      ctx.fillStyle='#5A3A1A';ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
      ctx.strokeStyle='#8A6A4A';ctx.lineWidth=1.5;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.stroke();
      ctx.fillStyle='rgba(255,255,255,0.2)';ctx.beginPath();ctx.arc(p.x-2,p.y-2,2,0,Math.PI*2);ctx.fill();
    });
    // balls
    balls.forEach(ball=>{
      ball.trail.forEach((t,i)=>{
        const a=(i/ball.trail.length)*0.22;ctx.globalAlpha=a;
        ctx.fillStyle=pw.fireball>0?'#FF8040':C.sand;
        ctx.beginPath();ctx.arc(t.x,t.y,ball.r*(i/ball.trail.length)*0.8,0,Math.PI*2);ctx.fill();
      });
      ctx.globalAlpha=1;
      const bg=ctx.createRadialGradient(ball.x-4,ball.y-4,2,ball.x,ball.y,ball.r);
      if(pw.fireball>0){bg.addColorStop(0,'#FFEE80');bg.addColorStop(0.5,'#FF7030');bg.addColorStop(1,'#CC1800');}
      else{bg.addColorStop(0,'#FFF8DC');bg.addColorStop(0.5,C.sand);bg.addColorStop(1,'#906820');}
      ctx.shadowColor=pw.fireball>0?'#FF5000':'rgba(232,201,122,0.5)';ctx.shadowBlur=14;
      ctx.fillStyle=bg;ctx.beginPath();ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;
    });
    // particles
    parts.forEach(p=>{ctx.globalAlpha=p.life;ctx.fillStyle=p.col;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();});
    ctx.globalAlpha=1;
    // player
    drawPlayer();
    // float text
    efx.forEach(e=>{
      ctx.globalAlpha=Math.min(e.life/25,1);ctx.fillStyle=e.col;
      ctx.font="bold 16px 'Bebas Neue',sans-serif";ctx.textAlign='center';ctx.fillText(e.txt,e.x,e.y);
    });
    ctx.globalAlpha=1;ctx.textAlign='left';
    ctx.restore();
  }

  function drawPlayer() {
    const x=player.x,y=player.y,air=!player.grounded;
    ctx.fillStyle='rgba(0,0,0,0.2)';ctx.beginPath();ctx.ellipse(x,GROUND+4,13,4,0,0,Math.PI*2);ctx.fill();
    ctx.fillStyle='#C49060';
    if(air){ctx.fillRect(x-10,y-PH*0.16,9,PH*0.3);ctx.fillRect(x+1,y-PH*0.32,9,PH*0.3);}
    else   {ctx.fillRect(x-10,y-PH*0.14,9,PH*0.32);ctx.fillRect(x+1,y-PH*0.14,9,PH*0.32);}
    ctx.fillStyle='#0F111A';ctx.fillRect(x-PW/2,y-PH*0.38,PW,PH*0.24);
    ctx.fillStyle=C.sand;ctx.fillRect(x-PW/2,y-PH,PW,PH*0.62);
    ctx.fillStyle='rgba(0,0,0,0.3)';ctx.font='bold 9px sans-serif';ctx.textAlign='center';ctx.fillText('1',x,y-PH+16);
    ctx.fillStyle=C.sand;
    if(air){ctx.fillRect(x-PW/2-8,y-PH-2,8,22);ctx.fillRect(x+PW/2,y-PH-8,8,24);}
    else   {ctx.fillRect(x-PW/2-8,y-PH+8,8,18);ctx.fillRect(x+PW/2,y-PH+8,8,18);}
    ctx.fillStyle='#D4A070';ctx.beginPath();ctx.arc(x,y-PH-12,13,0,Math.PI*2);ctx.fill();
    ctx.fillStyle=C.sand;ctx.beginPath();ctx.arc(x,y-PH-20,9,Math.PI,Math.PI*2);ctx.fill();
    if(air&&player.spikeCD<=0){
      const a=0.25+0.2*Math.sin(Date.now()*0.012);
      ctx.strokeStyle=`rgba(232,201,122,${a})`;ctx.lineWidth=1.5;ctx.beginPath();ctx.arc(x,y-PH*0.5,32,0,Math.PI*2);ctx.stroke();
    }
    ctx.textAlign='left';
  }

  // ‚îÄ‚îÄ upgrade overlay ‚îÄ‚îÄ
  function offerUpgrade() {
    const shuffled=[...PUPS].sort(()=>Math.random()-0.5); pickOpts=shuffled.slice(0,3);
    const ov=document.getElementById('blitzOverlay'); ov.style.display='flex';
    ov.innerHTML=`
      <p style="font-family:'Barlow Condensed',sans-serif;font-size:0.6rem;letter-spacing:0.28em;text-transform:uppercase;color:var(--ember);margin-bottom:0.3rem;">WAVE ${wave-1} CLEARED!</p>
      <p style="font-family:'Bebas Neue',sans-serif;font-size:2.6rem;color:var(--sand);letter-spacing:0.1em;line-height:1;margin-bottom:1rem;">PICK A POWERUP</p>
      <div style="display:flex;gap:0.7rem;justify-content:center;flex-wrap:wrap;">
        ${pickOpts.map((p,i)=>`
          <button onclick="blitzPick(${i})" style="background:rgba(19,22,31,0.97);border:1px solid rgba(232,201,122,0.2);border-radius:14px;padding:1rem 0.85rem;width:168px;cursor:pointer;text-align:center;font-family:inherit;color:inherit;transition:all 0.15s;"
          onmouseover="this.style.borderColor='${p.col}';this.style.transform='translateY(-3px)';this.style.boxShadow='0 0 20px ${p.col}55'"
          onmouseout="this.style.borderColor='rgba(232,201,122,0.2)';this.style.transform='';this.style.boxShadow=''">
            <div style="font-size:2rem;margin-bottom:0.4rem;">${p.icon}</div>
            <div style="font-family:'Bebas Neue',sans-serif;font-size:1.2rem;letter-spacing:0.08em;color:${p.col};margin-bottom:0.3rem;">${p.name}</div>
            <div style="font-size:0.7rem;color:var(--mid);line-height:1.4;">${p.desc}</div>
          </button>
        `).join('')}
      </div>`;
  }

  window.blitzPick=function(i){
    const p=pickOpts[i]; pw[p.id]++;
    if(p.id==='shield') pw.hp=Math.min(pw.hp+1,8);
    if(p.id==='bigball') balls.forEach(b=>b.r=getR());
    if(p.id==='multiball') balls.push(mkBall(rnd(200,520),GROUND-110,rnd(-3,3),rnd(-12,-8)));
    document.getElementById('blitzOverlay').style.display='none';
    floatText(p.icon+' '+p.name+'!',p.col,LW/2,LH*0.4);
    updatePwBar(); updateHUD(); gstate='playing';
  };

  function showGameOver(){
    const ov=document.getElementById('blitzOverlay'); ov.style.display='flex';
    ov.innerHTML=`
      <p style="font-family:'Bebas Neue',sans-serif;font-size:4rem;color:var(--ember);letter-spacing:0.1em;margin-bottom:0.4rem;">WIPED OUT</p>
      <p style="font-family:'Barlow Condensed',sans-serif;font-size:1rem;color:var(--mid);margin-bottom:0.2rem;">${score} pts ¬∑ Wave ${wave} ¬∑ Best combo ${maxCombo}√ó</p>
      <p style="font-size:0.8rem;color:var(--mid);margin-bottom:1.4rem;">Upgrades: ${PUPS.filter(p=>pw[p.id]>0).map(p=>p.icon).join('')||'none'}</p>
      <button onclick="blitzStart()" style="font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:0.95rem;letter-spacing:0.15em;text-transform:uppercase;background:var(--sand);color:var(--night);border:none;border-radius:10px;padding:0.85rem 2.8rem;cursor:pointer;"
      onmouseover="this.style.boxShadow='0 0 24px rgba(232,201,122,0.5)'" onmouseout="this.style.boxShadow=''">TRY AGAIN</button>`;
  }

  window.blitzStart=function(){
    document.getElementById('blitzOverlay').style.display='none'; initGame();
  };

  // ‚îÄ‚îÄ input ‚îÄ‚îÄ
  document.addEventListener('keydown',e=>{
    keys[e.code]=true;
    if(['Space','ArrowUp','ArrowLeft','ArrowRight','KeyA','KeyD','KeyW'].includes(e.code)) e.preventDefault();
  });
  document.addEventListener('keyup',e=>{keys[e.code]=false;});
  function hold(id,setter){
    const el=document.getElementById(id);if(!el)return;
    ['touchstart','mousedown'].forEach(ev=>el.addEventListener(ev,e=>{e.preventDefault();setter(true);},{passive:false}));
    ['touchend','mouseup','mouseleave'].forEach(ev=>el.addEventListener(ev,()=>setter(false)));
  }
  hold('blitzLeft',v=>mL=v); hold('blitzRight',v=>mR=v); hold('blitzJump',v=>mJ=v);
  if('ontouchstart' in window) document.getElementById('blitzMobile').style.display='flex';

  // ‚îÄ‚îÄ loop ‚îÄ‚îÄ
  function loop(){update();draw();requestAnimationFrame(loop);}

  // ‚îÄ‚îÄ title screen ‚îÄ‚îÄ
  initPw(); player=mkPlayer(); balls=[mkBall()]; bricks=makeBricks(1);
  crabs=[]; projs=[]; parts=[]; efx=[];
  const ov=document.getElementById('blitzOverlay'); ov.style.display='flex';
  ov.innerHTML=`
    <p style="font-family:'Barlow Condensed',sans-serif;font-size:0.6rem;letter-spacing:0.3em;text-transform:uppercase;color:var(--ember);margin-bottom:0.3rem;">Roguelike ¬∑ Bullet-Hell ¬∑ Brickbreaker</p>
    <p style="font-family:'Bebas Neue',sans-serif;font-size:4.2rem;color:var(--sand);letter-spacing:0.1em;line-height:1;margin-bottom:0.3rem;">BAKYARD<br>BLITZ</p>
    <p style="font-size:0.8rem;color:var(--mid);margin-bottom:0.25rem;">Break every brick. Don't let the ball hit the sand.</p>
    <p style="font-size:0.75rem;color:var(--mid);margin-bottom:1.4rem;">
      <span style="color:var(--sand)">‚Üê ‚Üí</span> move &nbsp;¬∑&nbsp; <span style="color:var(--sand)">‚Üë / Space</span> jump &amp; spike<br>
      Clear a wave ‚Üí choose an upgrade ¬∑ Stack powerups ¬∑ Survive the crabs
    </p>
    <button onclick="blitzStart()" style="font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:1rem;letter-spacing:0.18em;text-transform:uppercase;background:var(--sand);color:var(--night);border:none;border-radius:10px;padding:0.9rem 2.8rem;cursor:pointer;transition:all 0.15s;"
    onmouseover="this.style.boxShadow='0 0 28px rgba(232,201,122,0.55)';this.style.transform='translateY(-2px)'"
    onmouseout="this.style.boxShadow='';this.style.transform=''">ENTER THE BLITZ</button>
  `;
  draw(); requestAnimationFrame(loop);
})();
</script>

<!-- ABOUT -->
<section class="section about" id="about">
  <span class="about-accent" aria-hidden="true">B</span>
  <div class="inner">
    <p class="eyebrow r">The Bakyard</p>
    <h2 class="sec-title r r-d1">More Than<br>a Court.</h2>
    <p class="sec-body r r-d2">
      Plano's only private beach volleyball sanctuary. Three sand courts, a community pond with canoe, pool, covered hangout spaces, and a no-club culture where pros, college athletes, and weekend warriors train and belong together.
    </p>
    <div class="stats-row r r-d3">
      <div class="stat"><span class="stat-n">3</span><span class="stat-l">Sand Courts</span></div>
      <div class="stat"><span class="stat-n">5+</span><span class="stat-l">Years Deep</span></div>
      <div class="stat"><span class="stat-n">‚àû</span><span class="stat-l">Community</span></div>
    </div>
    <div class="amenities r r-d4">
      <span class="amenity-tag">üèê 3 Sand Courts</span>
      <span class="amenity-tag">üö£ Pond + Canoe</span>
      <span class="amenity-tag">üèä Pool</span>
      <span class="amenity-tag">üèÄ Basketball</span>
      <span class="amenity-tag">üåø Shaded Arbor</span>
      <span class="amenity-tag">üî• Bonfires</span>
      <span class="amenity-tag">üÖøÔ∏è Parking</span>
    </div>
  </div>
</section>

<!-- PROGRAMS -->
<section class="section programs" id="programs">
  <div class="inner">
    <p class="eyebrow r">Training & Play</p>
    <h2 class="sec-title r r-d1">Pick Your<br>Path.</h2>
    <div class="prog-list">
      <div class="prog-row r">
        <span class="prog-num">01</span>
        <div class="prog-body">
          <div class="prog-name">Sideout Sundays ‚Äî Open Play</div>
          <div class="prog-desc">Community open play with King/Queen of the Court formats. Drop in any Sunday. All skill levels, big energy.</div>
        </div>
        <div class="prog-right"><div class="prog-price">FREE</div><span class="prog-badge">w/ Membership</span></div>
      </div>
      <div class="prog-row r r-d1">
        <span class="prog-num">02</span>
        <div class="prog-body">
          <div class="prog-name">Group Training</div>
          <div class="prog-desc">Focused reps with real coaching. Capped at 12‚Äì16 athletes per session so everyone gets touches.</div>
        </div>
        <div class="prog-right"><div class="prog-price">$35</div><span class="prog-badge">per session</span></div>
      </div>
      <div class="prog-row r r-d2">
        <span class="prog-num">03</span>
        <div class="prog-body">
          <div class="prog-name">Elite 2s Program</div>
          <div class="prog-desc">Twice-weekly elite doubles training for serious competitors. College prep and competitive pathway.</div>
        </div>
        <div class="prog-right"><div class="prog-price">Elite</div><span class="prog-badge">plan required</span></div>
      </div>
      <div class="prog-row r r-d3">
        <span class="prog-num">04</span>
        <div class="prog-body">
          <div class="prog-name">Youth Camps</div>
          <div class="prog-desc">Ages 9‚Äì11. Fundamentals, fun, progression ‚Äî in a family-first sand environment. Limited spots per camp.</div>
        </div>
        <div class="prog-right"><div class="prog-price">Seasonal</div><span class="prog-badge">register early</span></div>
      </div>
      <div class="prog-row r r-d4">
        <span class="prog-num">05</span>
        <div class="prog-body">
          <div class="prog-name">Private & Semi-Private Lessons</div>
          <div class="prog-desc">1-on-1 or small group coaching tailored to your game. Schedule directly with a Bakyard coach.</div>
        </div>
        <div class="prog-right"><div class="prog-price">Call</div><span class="prog-badge">214-886-7440</span></div>
      </div>
    </div>
  </div>
</section>

<!-- COUNTDOWN -->
<section class="countdown-section section">
  <div class="countdown-inner">
    <p class="cd-label">Next Event</p>
    <h2 class="cd-event-name">Sideout Sunday<br>Open Play</h2>
    <div class="cd-boxes">
      <div class="cd-box"><span class="cd-num" id="cd-d">00</span><span class="cd-unit">Days</span></div>
      <span class="cd-sep">:</span>
      <div class="cd-box"><span class="cd-num" id="cd-h">00</span><span class="cd-unit">Hours</span></div>
      <span class="cd-sep">:</span>
      <div class="cd-box"><span class="cd-num" id="cd-m">00</span><span class="cd-unit">Mins</span></div>
      <span class="cd-sep">:</span>
      <div class="cd-box"><span class="cd-num" id="cd-s">00</span><span class="cd-unit">Secs</span></div>
    </div>
    <a href="mailto:contact@BeachBakyard.com" class="btn-white">Reserve Your Spot</a>
  </div>
</section>

<!-- EVENTS -->
<section class="section events" id="events">
  <div class="inner">
    <p class="eyebrow r">Upcoming</p>
    <h2 class="sec-title r r-d1">On The<br>Calendar.</h2>
    <div class="event-grid">
      <div class="event-card r">
        <div class="ev-date"><span class="ev-d">02</span><span class="ev-m">MAR</span></div>
        <div class="ev-info"><div class="ev-name">Sideout Sunday ‚Äî Open Play</div><div class="ev-sub">Every Sunday ¬∑ All Levels ¬∑ The Bakyard, Plano</div></div>
        <span class="ev-tag tag-weekly">Weekly</span>
      </div>
      <div class="event-card r r-d1">
        <div class="ev-date"><span class="ev-d">07</span><span class="ev-m">MAR</span></div>
        <div class="ev-info"><div class="ev-name">Backyard Brawl</div><div class="ev-sub">Friday Night Competitive Open Play ¬∑ 7 PM</div></div>
        <span class="ev-tag tag-open">Open</span>
      </div>
      <div class="event-card r r-d2">
        <div class="ev-date"><span class="ev-d">15</span><span class="ev-m">MAR</span></div>
        <div class="ev-info"><div class="ev-name">SheBall Women's Tournament</div><div class="ev-sub">Women's Doubles ¬∑ Register by Mar 12</div></div>
        <span class="ev-tag tag-open">Open</span>
      </div>
      <div class="event-card r r-d3">
        <div class="ev-date"><span class="ev-d">21</span><span class="ev-m">MAR</span></div>
        <div class="ev-info"><div class="ev-name">King / Queen of the Beach</div><div class="ev-sub">KOB/QOB Points Series ¬∑ Competitive</div></div>
        <span class="ev-tag tag-open">Open</span>
      </div>
    </div>
    <div style="margin-top:1.75rem" class="r r-d4">
      <a href="mailto:contact@BeachBakyard.com" class="btn btn-outline" style="display:block;text-align:center;">Contact For Full Schedule</a>
    </div>
  </div>
</section>

<!-- MEMBERSHIP -->
<section class="section membership" id="membership">
  <div class="inner">
    <p class="eyebrow r">Bakyard University</p>
    <h2 class="sec-title r r-d1">Find Your<br>Plan.</h2>
    <div class="plans">
      <div class="plan r">
        <div class="plan-header">
          <div class="plan-name">Drop-In</div>
          <div class="plan-price-block"><div class="plan-price">$20</div><span class="plan-price-meta">per session</span></div>
        </div>
        <div class="plan-divider"></div>
        <ul class="plan-features">
          <li>Single session access</li>
          <li>Open play eligible</li>
          <li>No commitment</li>
          <li>Great for first visits</li>
        </ul>
      </div>
      <div class="plan featured r r-d1">
        <div class="plan-header">
          <div class="plan-name">Monthly</div>
          <div class="plan-price-block"><div class="plan-price">$149</div><span class="plan-price-meta">/ month</span></div>
        </div>
        <div class="plan-divider"></div>
        <ul class="plan-features">
          <li>Unlimited open play</li>
          <li>Group training access</li>
          <li>Member pricing on events</li>
          <li>Sideout Sundays priority</li>
          <li>Save 20% with annual</li>
        </ul>
      </div>
      <div class="plan r r-d2">
        <div class="plan-header">
          <div class="plan-name">Elite</div>
          <div class="plan-price-block"><div class="plan-price">$299</div><span class="plan-price-meta">/ month</span></div>
        </div>
        <div class="plan-divider"></div>
        <ul class="plan-features">
          <li>Everything in Monthly</li>
          <li>Elite 2s program</li>
          <li>Advanced training blocks</li>
          <li>Priority court booking</li>
          <li>Video analysis (coming)</li>
        </ul>
      </div>
    </div>
    <div style="margin-top:2rem" class="r r-d3">
      <a href="tel:2148867440" class="btn btn-sand" style="display:block;text-align:center;font-size:1.15rem;padding:1rem;">Call To Get Started ¬∑ 214-886-7440</a>
    </div>
  </div>
</section>

<!-- CULTURE GRID -->
<div class="culture-grid">
  <div class="culture-cell">
    <span class="culture-sub">What we are</span>
    <div class="culture-word">SAND.<br>FAMILY.<br>GRIT.</div>
    <span class="culture-bg-char" aria-hidden="true">B</span>
  </div>
  <div class="culture-cell">
    <span class="culture-sub">Our promise</span>
    <div class="culture-word">PLAY<br>HARD.</div>
    <span class="culture-bg-char" aria-hidden="true">‚ú¶</span>
  </div>
  <div class="culture-cell">
    <span class="culture-sub">Since 2020</span>
    <div class="culture-word">NOT<br>A CLUB.</div>
    <span class="culture-bg-char" aria-hidden="true">üèê</span>
  </div>
  <div class="culture-cell">
    <span class="culture-sub">You belong here</span>
    <div class="culture-word">HOME<br>COURT.</div>
    <span class="culture-bg-char" aria-hidden="true">‚Üí</span>
  </div>
</div>

<!-- LOCATION -->
<section class="section location" id="location">
  <div class="inner">
    <p class="eyebrow r">Find Us</p>
    <h2 class="sec-title r r-d1">Come Play<br>In Plano.</h2>
    <div class="loc-card r r-d2">
      <div class="loc-map">
        <div class="map-dot-wrap">
          <div class="map-dot"></div>
          <div class="map-pin-stem"></div>
        </div>
        <div class="map-coords">33.0198¬∞ N ¬∑ 96.6989¬∞ W</div>
      </div>
      <div class="loc-details">
        <div class="loc-row"><span class="loc-icon">üìç</span><div class="loc-text"><strong>Address</strong>3001 Los Rios Blvd, Plano, TX 75074</div></div>
        <div class="loc-row"><span class="loc-icon">üìû</span><div class="loc-text"><strong>Phone</strong><a href="tel:2148867440">214-886-7440</a></div></div>
        <div class="loc-row"><span class="loc-icon">‚úâÔ∏è</span><div class="loc-text"><strong>Email</strong><a href="mailto:contact@BeachBakyard.com">contact@BeachBakyard.com</a></div></div>
        <div class="loc-row"><span class="loc-icon">üì∏</span><div class="loc-text"><strong>Instagram</strong><a href="https://www.instagram.com/beach.bakyard" target="_blank" rel="noopener">@beach.bakyard</a></div></div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-inner">
    <div class="footer-logo">
      <span class="f-sand">THE </span><span class="f-dim">BAK</span><span class="f-sand">YARD</span>
    </div>
    <p class="footer-sub">Where Legends Grow ¬∑ Plano, Texas ¬∑ Est. 2020</p>
    <div class="footer-cols">
      <div class="footer-col">
        <p class="footer-col-label">The Bakyard</p>
        <ul>
          <li><a href="#about">About</a></li>
          <li><a href="#programs">Programs</a></li>
          <li><a href="#membership">Membership</a></li>
          <li><a href="#events">Events</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p class="footer-col-label">Connect</p>
        <ul>
          <li><a href="tel:2148867440">214-886-7440</a></li>
          <li><a href="mailto:contact@BeachBakyard.com">Email Us</a></li>
          <li><a href="https://www.instagram.com/beach.bakyard" target="_blank">Instagram</a></li>
          <li><a href="https://beachbakyard.com" target="_blank">beachbakyard.com</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-divider"></div>
    <div class="footer-bottom">
      <span class="footer-copy">¬© 2026 The Bakyard LLC ¬∑ All Rights Reserved</span>
      <a href="https://www.instagram.com/beach.bakyard" class="footer-ig" target="_blank">@beach.bakyard ‚Üó</a>
    </div>
  </div>
</footer>

<!-- STICKY MOBILE BAR -->
<div class="sticky-bar" id="stickyBar">
  <a href="#membership" class="btn btn-sand">Join Now</a>
  <a href="tel:2148867440" class="btn btn-outline">üìû Call</a>
</div>

<script>
// ‚îÄ‚îÄ‚îÄ CANVAS PARTICLE FIELD ‚îÄ‚îÄ‚îÄ
(function() {
  const canvas = document.getElementById('heroCanvas');
  const ctx = canvas.getContext('2d');
  let W, H, particles;
  const COLORS = ['rgba(232,201,122,','rgba(217,95,43,','rgba(240,237,230,'];

  function resize() {
    W = canvas.width  = canvas.offsetWidth;
    H = canvas.height = canvas.offsetHeight;
  }
  function createParticles() {
    const count = Math.floor((W * H) / 8500);
    particles = Array.from({ length: count }, () => ({
      x:  Math.random() * W,
      y:  Math.random() * H,
      r:  Math.random() * 1.6 + 0.3,
      vx: (Math.random() - 0.5) * 0.22,
      vy: -Math.random() * 0.3 - 0.05,
      a:  Math.random() * 0.5 + 0.15,
      col: COLORS[Math.floor(Math.random() * COLORS.length)],
    }));
  }
  function draw() {
    ctx.clearRect(0, 0, W, H);
    particles.forEach(p => {
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
      ctx.fillStyle = p.col + p.a + ')';
      ctx.fill();
      p.x += p.vx; p.y += p.vy;
      if (p.y < -5) { p.y = H + 5; p.x = Math.random() * W; }
      if (p.x < -5) p.x = W + 5;
      if (p.x > W + 5) p.x = -5;
    });
    requestAnimationFrame(draw);
  }
  window.addEventListener('resize', () => { resize(); createParticles(); }, { passive: true });
  resize(); createParticles(); draw();
})();

// ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ
const nav = document.getElementById('nav');
window.addEventListener('scroll', () => {
  nav.classList.toggle('scrolled', window.scrollY > 40);
}, { passive: true });

// ‚îÄ‚îÄ‚îÄ HAMBURGER ‚îÄ‚îÄ‚îÄ
const ham = document.getElementById('ham');
const mobileMenu = document.getElementById('mobileMenu');
ham.addEventListener('click', () => {
  ham.classList.toggle('open');
  mobileMenu.classList.toggle('open');
});
mobileMenu.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
  ham.classList.remove('open');
  mobileMenu.classList.remove('open');
}));

// ‚îÄ‚îÄ‚îÄ SCROLL REVEAL ‚îÄ‚îÄ‚îÄ
const revEls = document.querySelectorAll('.r');
const revObs = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('in'); revObs.unobserve(e.target); } });
}, { threshold: 0.1 });
revEls.forEach(el => revObs.observe(el));

window.addEventListener('load', () => {
  document.querySelectorAll('.hero .r').forEach((el, i) => {
    setTimeout(() => el.classList.add('in'), 300 + i * 160);
  });
});

// ‚îÄ‚îÄ‚îÄ STICKY BAR ‚îÄ‚îÄ‚îÄ
const heroEl = document.querySelector('.hero');
const stickyBar = document.getElementById('stickyBar');
new IntersectionObserver(([e]) => {
  stickyBar.classList.toggle('visible', !e.isIntersecting);
}, { threshold: 0.05 }).observe(heroEl);

// ‚îÄ‚îÄ‚îÄ COUNTDOWN to next Sunday 10am CT ‚îÄ‚îÄ‚îÄ
function getNextSunday() {
  const now = new Date();
  const ct = new Date(now.toLocaleString('en-US', { timeZone: 'America/Chicago' }));
  const day = ct.getDay();
  const daysUntil = (day === 0 && ct.getHours() < 10) ? 0 : ((7 - day) % 7 || 7);
  const next = new Date(ct);
  next.setDate(ct.getDate() + daysUntil);
  next.setHours(10, 0, 0, 0);
  return next;
}
function updateCD() {
  const ct = new Date(new Date().toLocaleString('en-US', { timeZone: 'America/Chicago' }));
  const diff = getNextSunday() - ct;
  if (diff <= 0) return;
  const d = Math.floor(diff / 86400000);
  const h = Math.floor((diff % 86400000) / 3600000);
  const m = Math.floor((diff % 3600000) / 60000);
  const s = Math.floor((diff % 60000) / 1000);
  document.getElementById('cd-d').textContent = String(d).padStart(2,'0');
  document.getElementById('cd-h').textContent = String(h).padStart(2,'0');
  document.getElementById('cd-m').textContent = String(m).padStart(2,'0');
  document.getElementById('cd-s').textContent = String(s).padStart(2,'0');
}
updateCD();
setInterval(updateCD, 1000);
</script>
</body>
</html>
